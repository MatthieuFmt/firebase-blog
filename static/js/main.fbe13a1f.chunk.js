(this["webpackJsonpblog2.0"]=this["webpackJsonpblog2.0"]||[]).push([[0],{42:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var i=a(4),s=a(29),c=a.n(s),n=(a(42),a(0)),r=a.n(n),l=a(2),o=a(9),u=a(24),j=a(33),b=Object(j.a)({apiKey:"AIzaSyDBDV5-m4Y7K_ZH9l6IDIdYvynkfXju_KA",authDomain:"blog-aa837.firebaseapp.com",projectId:"blog-aa837",storageBucket:"blog-aa837.appspot.com",messagingSenderId:"1044383856868",appId:"1:1044383856868:web:7bd8407d9fda2eba6a54f1"}),d=Object(u.b)(b),m=a(3),p=Object(i.createContext)();function O(e){var t=Object(i.useState)(),a=Object(o.a)(t,2),s=a[0],c=a[1],n=Object(i.useState)(!0),r=Object(o.a)(n,2),l=r[0],j=r[1],b=s&&s.email.split("@")[0];Object(i.useEffect)((function(){return Object(u.c)(d,(function(e){c(e),j(!1)}))}),[]);var O=Object(i.useState)({signUpModal:!1,signInModal:!1}),h=Object(o.a)(O,2),g=h[0],x=h[1];return Object(m.jsx)(p.Provider,{value:{modalState:g,toggleModals:function(e){"signIn"===e&&x({signUpModal:!1,signInModal:!0}),"signUp"===e&&x({signUpModal:!0,signInModal:!1}),"close"===e&&x({signUpModal:!1,signInModal:!1})},signUp:function(e,t){return Object(u.a)(d,e,t)},signIn:function(e,t){return Object(u.d)(d,e,t)},currentUser:s,user:b},children:!l&&e.children})}var h=a(16),g=a(8),x=function(){var e=Object(g.g)(),t=Object(i.useContext)(p),a=t.toggleModals,s=t.user,c=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u.e)(d);case 3:e("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("Erreur lors de la d\xe9connexion, veuillez r\xe9essayer.");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)("nav",{className:"container navigation",children:[s&&Object(m.jsxs)("ul",{className:"navigation__list",children:[Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(h.c,{to:"/",activeclassname:"active",children:"Articles"})}),Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(h.c,{to:"/formulaire",activeclassname:"active",children:"Formulaire"})})]}),Object(m.jsxs)("div",{className:"navigation__identification",children:[!s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:"Se connecter pour \xe9crire un article"}),Object(m.jsx)("button",{className:"navigation__btn navigation__btn--black",onClick:function(){return a("signIn")},children:"Connexion"}),Object(m.jsx)("button",{className:"navigation__btn navigation__btn--black",onClick:function(){return a("signUp")},children:"Inscription"})]}),s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"",children:["Bienvenue ",s," !"]}),Object(m.jsx)("button",{className:"navigation__btn navigation__btn--red",onClick:c,children:"D\xe9connexion"})]})]})]})},f=a(12),v=a(21),_=function(){var e=Object(v.c)((function(e){return Object(f.a)({},e.articlesReducer)}));return Object(m.jsx)("main",{className:"container articles",children:e.articles.map((function(e){return Object(m.jsx)(h.b,{to:"/".concat(e.title),state:e,children:Object(m.jsxs)("article",{className:"articles__card",children:[e.img&&Object(m.jsx)("img",{className:"articles__img",src:e.img,alt:"illustration"}),Object(m.jsxs)("div",{className:"articles__content",children:[Object(m.jsx)("h3",{className:"articles__title",children:e.title}),Object(m.jsx)("p",{className:"articles__text",children:e.article}),Object(m.jsx)("span",{className:"articles__author",children:e.author}),Object(m.jsx)("span",{className:"articles__time",children:e.date})]})]})},e.id)}))})},N=a(1),w="ADD_ARTICLE",y="UPDATE_ARTICLE",S="DELETE_ARTICLE",C=a(54),I=function(){var e=Object(v.b)(),t=Object(i.useContext)(p).user,a=(new Date).toLocaleString().split(",")[0],s=Object(i.useState)({id:Object(C.a)(),title:"",img:"",author:t,article:"",date:a}),c=Object(o.a)(s,2),n=c[0],r=c[1],l=Object(i.useState)(""),u=Object(o.a)(l,2),j=u[0],b=u[1],d=Object(i.useState)(""),O=Object(o.a)(d,2),h=O[0],x=O[1],_=function(e){var t=e.target,a=t.value,i=t.name;r(Object(f.a)(Object(f.a)({},n),{},Object(N.a)({},i,a))),b(""),x("")};return t?Object(m.jsxs)("form",{className:"container form",onSubmit:function(i){var s;return i.preventDefault(),e({type:w,payload:{id:(s=n).id,title:s.title,img:s.img,author:s.author,article:s.article,date:s.date}}),n.title.length<=0?b("Veuillez entrer un titre"):n.article.length<=0?x("Veuillez entrer un texte"):void r({id:Object(C.a)(),title:"",img:"",author:t,article:"",date:a})},children:[Object(m.jsx)("label",{htmlFor:"title",className:"form__label",children:"Titre"}),Object(m.jsx)("input",{type:"text",className:"form__input",id:"title",name:"title",value:n.title,onChange:_}),j,Object(m.jsx)("label",{htmlFor:"img",className:"form__label",children:"URL image"}),Object(m.jsx)("input",{type:"text",className:"form__input",id:"img",name:"img",value:n.img,onChange:_}),Object(m.jsx)("label",{htmlFor:"article",className:"form__label",children:"Article"}),Object(m.jsx)("textarea",{className:"form__input form__input--textarea",id:"article",name:"article",value:n.article,onChange:_}),h,Object(m.jsx)("button",{className:"form__btn",type:"submit",children:"Publier"})]}):Object(m.jsx)(g.a,{to:"/"})},k=function(e){var t=e.toggleUpdate,a=e.setToggleUpdate,i=e.inputState,s=e.setInputState,c=e.article,n=Object(v.b)(),r=Object(g.g)();return Object(m.jsxs)("div",{className:"btns",children:[t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btns--cancel",onClick:function(){s(c),a(!1)},children:"Annuler"}),Object(m.jsx)("button",{className:"btns--send",onClick:function(){var e;a(!1),i.title===c.title&&i.article===c.article||(n({type:y,payload:{id:(e=i).id,title:e.title,article:e.article}}),r("/"))},children:"Valider"})]}):Object(m.jsx)("button",{className:"btns--update",onClick:function(){return a(!0)},children:"Modifier"}),Object(m.jsx)("button",{className:"btns--delete",onClick:function(){var e;n((e=c.id,{type:S,payload:e})),r("/")},children:"Supprimer"})]})},M=function(){var e=Object(g.f)().state,t=Object(i.useState)(!1),a=Object(o.a)(t,2),s=a[0],c=a[1],n=Object(i.useState)(e),r=Object(o.a)(n,2),l=r[0],u=r[1];return Object(m.jsxs)("main",{className:"container details",children:[Object(m.jsx)(h.c,{to:"/",activeclassname:"active",children:"Retour"}),l.img&&Object(m.jsx)("img",{src:e.img,alt:e.title,className:"details__img"}),s?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{type:"text",className:"details__title",name:"title",value:l.title,onChange:function(e){return u(Object(f.a)(Object(f.a)({},l),{},{title:e.target.value}))}}),Object(m.jsx)("textarea",{className:"details__text",name:"article",value:l.article,onChange:function(e){return u(Object(f.a)(Object(f.a)({},l),{},{article:e.target.value}))}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{className:"details__title",children:l.title}),Object(m.jsx)("p",{className:"details__text",children:l.article})]}),Object(m.jsxs)("div",{className:"details__footer",children:[Object(m.jsxs)("div",{className:"details__infos",children:[Object(m.jsxs)("span",{className:"details__author",children:["\xe9crit par ",e.author]}),Object(m.jsxs)("span",{className:"details__time",children:[" le ",e.date," "]})]}),Object(m.jsx)("div",{className:"details__btns",children:Object(m.jsx)(k,{toggleUpdate:s,setToggleUpdate:c,inputState:l,setInputState:u,article:e})})]})]})},D=function(){var e=Object(i.useContext)(p),t=e.modalState,a=e.toggleModals,s=e.signUp,c=Object(g.g)(),n=Object(i.useState)({email:"",password:"",confirmPassword:""}),u=Object(o.a)(n,2),j=u[0],b=u[1],d=Object(i.useState)(""),O=Object(o.a)(d,2),h=O[0],x=O[1],v=Object(i.useState)(""),_=Object(o.a)(v,2),w=_[0],y=_[1],S=function(){var e=Object(l.a)(r.a.mark((function e(t){var a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,i=a.value,s=a.name,b(Object(f.a)(Object(f.a)({},j),{},Object(N.a)({},s,i)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(j.password.length<6)){e.next=6;break}return x("6 caract\xe8res minimum"),e.abrupt("return");case 6:if(j.password===j.confirmPassword){e.next=11;break}return x("Les mots de passe doivent \xeatres identique"),e.abrupt("return");case 11:x("");case 12:return e.prev=12,e.next=15,s(j.email,j.password);case 15:I(),c("/formulaire"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(12),"auth/invalid-email"===e.t0.code&&y("format email invalide"),"auth/email-already-in-use"===e.t0.code&&y("email d\xe9j\xe0 utilis\xe9");case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){a("close"),x(""),y(""),b({email:"",password:"",confirmPassword:""})};return Object(m.jsx)(m.Fragment,{children:t.signUpModal&&Object(m.jsxs)("div",{className:"registration",children:[Object(m.jsx)("div",{className:"registration__overlay",onClick:I}),Object(m.jsxs)("form",{className:"registration__form",onSubmit:C,children:[Object(m.jsx)("button",{className:"registration__close",onClick:I,children:"X"}),Object(m.jsx)("label",{htmlFor:"email",children:"Adresse e-mail"}),Object(m.jsx)("input",{type:"email",id:"email",name:"email",value:j.email,onChange:S}),Object(m.jsx)("div",{className:"registration__alert",children:w}),Object(m.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(m.jsx)("input",{type:"password",id:"password",name:"password",value:j.password,onChange:S}),Object(m.jsx)("label",{htmlFor:"confirmPassword",children:"Comfirmer mot de passe"}),Object(m.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:j.confirmPassword,onChange:S}),Object(m.jsx)("div",{className:"registration__alert",children:h}),Object(m.jsxs)("div",{className:"registration__switch",children:["D\xe9j\xe0 inscrit ?"," ",Object(m.jsx)("span",{onClick:function(){return a("signIn")},children:"Se connecter"})]}),Object(m.jsx)("button",{className:"registration__btn",type:"submit",children:"Inscription"})]})]})})},q=function(){var e=Object(i.useContext)(p),t=e.modalState,a=e.toggleModals,s=e.signIn,c=Object(g.g)(),n=Object(i.useState)({email:"",password:""}),u=Object(o.a)(n,2),j=u[0],b=u[1],d=Object(i.useState)(""),O=Object(o.a)(d,2),h=O[0],x=O[1],v=function(){var e=Object(l.a)(r.a.mark((function e(t){var a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,i=a.value,s=a.name,b(Object(f.a)(Object(f.a)({},j),{},Object(N.a)({},s,i)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s(j.email,j.password);case 4:w(),x(""),c("/formulaire"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),x("Email ou mot de passe incorrect");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){a("close"),x(""),b({email:"",password:""})};return Object(m.jsx)(m.Fragment,{children:t.signInModal&&Object(m.jsxs)("div",{className:"registration",children:[Object(m.jsx)("div",{className:"registration__overlay",onClick:w}),Object(m.jsxs)("form",{className:"registration__form",onSubmit:_,children:[Object(m.jsx)("button",{className:"registration__close",onClick:w,children:"X"}),Object(m.jsx)("label",{htmlFor:"email",children:"Adresse e-mail"}),Object(m.jsx)("input",{type:"email",id:"email",name:"email",value:j.email,onChange:v}),Object(m.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(m.jsx)("input",{type:"password",id:"password",name:"password",value:j.password,onChange:v}),Object(m.jsx)("div",{className:"registration__alert",children:h}),Object(m.jsxs)("div",{className:"registration__switch",children:["Pas encore inscrit ?"," ",Object(m.jsx)("span",{onClick:function(){return a("signUp")},children:"S'inscrire"})]}),Object(m.jsx)("button",{className:"registration__btn",type:"submit",children:"Connexion"})]})]})})};var F=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{}),Object(m.jsx)(D,{}),Object(m.jsx)(q,{}),Object(m.jsxs)(g.d,{children:[Object(m.jsx)(g.b,{path:"/",element:Object(m.jsx)(_,{})}),Object(m.jsx)(g.b,{path:"/:name",element:Object(m.jsx)(M,{})}),Object(m.jsx)(g.b,{path:"/formulaire",element:Object(m.jsx)(I,{})})]})]})},A=a(28),U=a(36),E=a(35),P=a(19),B={articles:[{id:"1",title:"Vonsectetur hic dignissimos",img:"",author:"Matthieu",article:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet temporibus, iusto harum consectetur hic dignissimos necessitatibus ratione! Rem atque animi doloremque, officiis facere aperiam id quo ut nemo. Sapiente, laboriosam?",date:"28/12/2021"},{id:"2",title:"Officiis facere aperiam",img:"https://images.unsplash.com/photo-1641497439550-b817b0682350?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1074&q=80",author:"John",article:"Doloribus dicta ipsa, doloremque inventore rem pariatur facere consectetur voluptatum suscipit nulla molestias. Natus debitis asperiores quibusdam dignissimos at.",date:"30/12/2021"},{id:"3",title:"Minus laborum eaque quidem",img:"https://images.unsplash.com/photo-1481819613568-3701cbc70156?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cGxhbmV0fGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60",author:"Neil",article:"fugiat consequatur hic velit necessitatibus praesentium et nam esse cupiditate? Aspernatur ab sint excepturi accusantium corporis illo omnis nemo asperiores iste eaque tempore facilis, nisi recusandae voluptas tenetur labore cumque porro velit natus ipsa optio, vero magnam praesentium debitis? Labore ut sapiente qui. Obcaecati, reprehenderit eos fuga atque nemo dignissimos aut ratione corrupti quae inventore, earum magnam porro ipsum ut labore, harum veritatis eaque tempore! Doloribus dicta ipsa, doloremque inventore rem pariatur facere consectetur voluptatum suscipit nulla molestias. Natus debitis asperiores quibusdam dignissimos at",date:"05/01/2022"}]},L=Object(A.combineReducers)({articlesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(localStorage.getItem("articles")?e=JSON.parse(localStorage.getItem("articles")):localStorage.setItem("articles",JSON.stringify(e)),t.type){case w:return e.articles=[].concat(Object(P.a)(e.articles),[t.payload]),localStorage.setItem("articles",JSON.stringify(e)),e;case y:return e.articles=e.articles.map((function(e){return e.id===t.payload.id?Object(f.a)(Object(f.a)({},e),{},{title:t.payload.title,article:t.payload.article}):Object(f.a)({},e)})),localStorage.setItem("articles",JSON.stringify(e)),e;case S:return e.articles=e.articles.filter((function(e){return e.id!==t.payload})),localStorage.setItem("articles",JSON.stringify(e)),e;default:return e}}}),R=[U.a],T=Object(A.createStore)(L,Object(E.composeWithDevTools)(A.applyMiddleware.apply(void 0,R)));c.a.render(Object(m.jsx)(h.a,{basename:"/firebase-blog",children:Object(m.jsx)(v.a,{store:T,children:Object(m.jsx)(O,{children:Object(m.jsx)(F,{})})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.fbe13a1f.chunk.js.map